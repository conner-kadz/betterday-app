<!DOCTYPE html>
<html>
<head>
    <title>BetterDay Booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --primary: #4ea2fd;    --accent: #faebda;
            --dark: #00465e;       --bus-yellow: #ffd54f;
            --status-open: #27ae60; --radius-lg: 18px;
            --shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
            --error-red: #e74c3c;
        }
        * { box-sizing: border-box; font-family: -apple-system, sans-serif; }
        body { margin: 0; background: var(--accent); color: var(--dark); padding-bottom: 50px; }
        
        /* Centered Header with Logo */
        .app-header { 
            background: var(--primary); 
            padding: 12px 24px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            box-shadow: var(--shadow); 
        }
        
        .app-main { padding: 30px 20px; max-width: 500px; margin: 0 auto; }
        
        .intro-section { text-align: center; margin-bottom: 30px; }
        .intro-section h1 { font-size: 1.8rem; font-weight: 800; margin-bottom: 8px; }
        .intro-section p { font-size: 1rem; opacity: 0.9; font-weight: 400; line-height: 1.4; }

        .scroller-nav {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 25px; background: white; padding: 15px 20px;
            border-radius: 50px; box-shadow: var(--shadow);
        }
        .nav-arrow { 
            color: var(--dark); 
            text-decoration: none; 
            font-size: 1.5rem; 
            font-weight: 800; 
            width: 40px; 
            height: 40px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            border-radius: 50%;
        }
        .nav-arrow:hover { background: #f0f0f0; }
        
        .month-label h2 { margin: 0; font-size: 1.3rem; font-weight: 900; text-transform: uppercase; }

        .booking-list { 
            background: white; border-radius: var(--radius-lg); padding: 10px 25px; box-shadow: var(--shadow); 
        }

        .date-row { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #f2f2f2; }
        .date-row:last-child { border-bottom: none; }
        .date-text { font-weight: 700; font-size: 1rem; }

        .btn-select { background: var(--primary); color: white; text-decoration: none; padding: 10px 22px; border-radius: 99px; font-weight: 800; font-size: 0.75rem; text-transform: uppercase; }
        .status-taken { background: var(--bus-yellow); color: #5d4037; padding: 8px 14px; border-radius: 99px; font-size: 0.65rem; font-weight: 900; }
    </style>
</head>
<body>
    <header class="app-header">
        <a href="/">
            <img src="{{ url_for('static', filename='Logo.svg') }}" alt="BetterDay Logo" style="height: 40px; width: auto; display: block;">
        </a>
    </header>

    <main class="app-main">
        <div class="intro-section">
            <h1>School Lunch Drop-off üçé</h1>
            <p>Choose a date below to lock in your school's lunch delivery.<br>Mon, Tue, Wed available.</p>
        </div>

        <div class="scroller-nav">
            {% if prev_url %}
                <a href="{{ prev_url }}" class="nav-arrow">‚Üê</a>
            {% else %}
                <span class="nav-arrow" style="opacity:0.2; cursor:default;">‚Üê</span>
            {% endif %}

            <div class="month-label" style="text-align: center;">
                <h2>{{ month_name }} {{ year }}</h2>
            </div>
            
            {% if next_url %}
                <a href="{{ next_url }}" class="nav-arrow">‚Üí</a>
            {% else %}
                <span class="nav-arrow" style="opacity:0.2; cursor:default;">‚Üí</span>
            {% endif %}
        </div>

        <div class="booking-list">
            {% for date in dates %}
            <div class="date-row">
                <div class="date-text">{{ date.display }}</div>
                <div class="action-zone">
                    {% if date.past %}
                        <span style="color:#adb5bd; font-size:0.7rem; font-weight:800;">PASSED</span>
                    {% elif date.taken %}
                        <span class="status-taken">TAKEN ‚ùå</span>
                    {% else %}
                        <a href="/book/{{ date.raw_date }}" class="btn-select">Select</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </main>
</body>
</html>
