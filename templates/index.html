<!DOCTYPE html>
<html>
<head>
    <title>BetterDay Booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --primary: #4ea2fd;    /* Action Blue */
            --accent: #faebda;     /* Cream Background */
            --dark: #00465e;       /* Navy Text */
            --bus-yellow: #ffd54f; /* School Bus Yellow */
            --status-open: #27ae60;
            --radius-lg: 18px;
            --shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
        }

        * { box-sizing: border-box; font-family: system-ui, -apple-system, sans-serif; }
        body { margin: 0; background: var(--accent); color: var(--dark); padding-bottom: 50px; }

        .app-header {
            background: var(--primary); color: white;
            padding: 16px 24px; box-shadow: var(--shadow);
            font-weight: 800; font-size: 1.2rem;
        }

        .app-main { padding: 30px 20px; max-width: 500px; margin: 0 auto; }
        
        /* Intro Wording */
        .intro-section { text-align: center; margin-bottom: 30px; }
        .intro-section h1 { font-size: 1.8rem; font-weight: 800; margin-bottom: 8px; }
        .intro-section p { font-size: 1rem; opacity: 0.8; font-weight: 600; }

        .scroller-nav {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 25px; background: white; padding: 15px 20px;
            border-radius: 50px; box-shadow: var(--shadow);
        }
        .nav-arrow { color: var(--dark); text-decoration: none; font-size: 1.5rem; font-weight: 800; }
        .month-label h2 { margin: 0; font-size: 1.3rem; font-weight: 900; text-transform: uppercase; }
        .month-label span { font-size: 0.75rem; font-weight: 800; color: var(--status-open); letter-spacing: 0.5px; }

        .booking-list {
            background: white; border-radius: var(--radius-lg);
            padding: 10px 25px; box-shadow: var(--shadow);
            animation: whooshIn 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }
        @keyframes whooshIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        .date-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 0; border-bottom: 1px solid #f2f2f2;
        }
        .date-row:last-child { border-bottom: none; }
        .date-text { font-weight: 800; font-size: 1.05rem; }

        .btn-select {
            background: var(--primary); color: white;
            text-decoration: none; padding: 10px 22px;
            border-radius: 99px; font-weight: 800; font-size: 0.75rem;
            text-transform: uppercase; transition: 0.2s;
        }
        .status-taken {
            background: var(--bus-yellow); color: #5d4037;
            padding: 8px 14px; border-radius: 99px;
            font-size: 0.65rem; font-weight: 900; text-transform: uppercase;
        }
    </style>
</head>
<body>
    <header class="app-header">BetterDay</header>

    <main class="app-main">
        <div class="intro-section">
            <h1>School Lunch Drop-off üçé</h1>
            <p>Choose a date below to lock in your school's lunch delivery. <br>Monday, Tuesday, and Wednesdays available.</p>
        </div>

        <div class="scroller-nav">
            <a href="{{ prev_url }}" class="nav-arrow">‚Üê</a>
            <div class="month-label" style="text-align: center;">
                <h2>{{ month_name }}</h2>
                <span>{{ slots }} SLOTS AVAILABLE</span>
            </div>
            <a href="{{ next_url }}" class="nav-arrow">‚Üí</a>
        </div>

        <div class="booking-list">
            {% for date in dates %}
            <div class="date-row">
                <div class="date-text">{{ date.display }}</div>
                <div class="action-zone">
                    {% if date.past %}
                        <span style="color:#adb5bd; font-size:0.7rem; font-weight:800;">EXPIRED</span>
                    {% elif date.taken %}
                        <span class="status-taken">All Scooped Up! üçé</span>
                    {% else %}
                        <a href="/book/{{ date.raw_date }}" class="btn-select">Select</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </main>
</body>
</html>
