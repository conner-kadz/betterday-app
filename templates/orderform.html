<!DOCTYPE html>
<html>
<head>
    <title>BetterDay Teacher Order</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --primary: #4ea2fd;    --accent: #faebda;
            --dark: #00465e;       --bus-yellow: #ffd54f;
            --status-open: #27ae60; --radius-lg: 18px;
            --shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
            --error-red: #e74c3c;
        }
        * { box-sizing: border-box; font-family: system-ui, -apple-system, sans-serif; }
        body { margin: 0; background: var(--accent); color: var(--dark); padding-bottom: 50px; }
        
        .app-header { 
            background: var(--primary); 
            padding: 12px 24px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            box-shadow: var(--shadow); 
        }
        
        .app-main { padding: 30px 20px; max-width: 500px; margin: 0 auto; }

        .intro-section { text-align: center; margin-bottom: 30px; }
        .intro-section h1 { font-size: 1.8rem; font-weight: 800; margin-bottom: 8px; }
        .intro-section p { font-size: 1rem; opacity: 0.9; font-weight: 400; line-height: 1.4; }

        .name-card {
            background: white; border-radius: var(--radius-lg); padding: 25px; 
            box-shadow: var(--shadow); margin-bottom: 25px;
        }
        .name-card label { display: block; font-weight: 800; margin-bottom: 10px; font-size: 0.8rem; color: var(--primary); }
        .name-input { 
            width: 100%; padding: 15px; border-radius: 12px; border: 2px solid #f2f2f2;
            font-size: 1rem; font-weight: 600; outline: none; transition: border-color 0.3s;
        }
        .name-input:focus { border-color: var(--primary); }

        .booking-list { 
            background: white; border-radius: var(--radius-lg); padding: 10px 20px; box-shadow: var(--shadow); 
        }

        .meal-row { display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid #f2f2f2; gap: 15px; }
        .meal-row:last-child { border-bottom: none; }
        
        .meal-img { 
            width: 75px; height: 75px; border-radius: 12px; object-fit: cover; 
            background: #eee; border: 1px solid #f0f0f0;
        }

        .meal-info { flex-grow: 1; }
        .meal-name { font-weight: 800; font-size: 0.95rem; margin-bottom: 4px; line-height: 1.2; }
        .meal-id { font-size: 0.7rem; font-weight: 900; color: var(--primary); }

        .btn-order { 
            background: var(--primary); color: white; border: none; padding: 10px 16px; 
            border-radius: 99px; font-weight: 800; font-size: 0.7rem; 
            text-transform: uppercase; cursor: pointer;
        }

        .footer-note { text-align: center; margin-top: 30px; font-size: 0.75rem; opacity: 0.5; font-weight: 700; }
    </style>
</head>
<body>
    <header class="app-header">
        <a href="/">
            <img src="https://www.eatbetterday.ca/cdn/shop/files/Logo_White_300x.png" alt="BetterDay Logo" style="height: 45px;">
        </a>
    </header>

    <main class="app-main">
        <div class="intro-section">
            <h1>Teacher Lunch üçé</h1>
            <p>Order for <b>{{ school_name }}</b><br>Delivery: {{ delivery_date }}</p>
        </div>

        <form action="/submit-order" method="POST" id="orderForm">
            <input type="hidden" name="delivery_date" value="{{ delivery_date }}">
            <input type="hidden" name="school_name" value="{{ school_name }}">

            <div class="name-card">
                <label for="teacher_name">YOUR NAME</label>
                <input type="text" name="teacher_name" id="teacher_name" class="name-input" placeholder="e.g. Mrs. Robinson" required>
            </div>

            <div class="booking-list">
                {% if not menu %}
                    <p style="text-align:center; padding: 20px;">No meals found for this date.</p>
                {% endif %}

                {% for item in menu %}
                <div class="meal-row">
                    <img src="https://www.eatbetterday.ca/cdn/shop/files/{{ item.id }}.jpg" class="meal-img" alt="{{ item.name }}" onerror="this.src='https://via.placeholder.com/150?text=BetterDay'">
                    <div class="meal-info">
                        <div class="meal-name">{{ item.name }}</div>
                        <div class="meal-id">#{{ item.id }}</div>
                    </div>
                    <button type="submit" name="meal_id" value="{{ item.id }}" class="btn-order">Order</button>
                </div>
                {% endfor %}
            </div>
        </form>

        <p class="footer-note">BetterDay CRM ‚Ä¢ Healthy Schools, Happy Teachers</p>
    </main>

    <script>
        document.getElementById('orderForm').onsubmit = function() {
            var name = document.getElementById('teacher_name').value;
            if (!name.trim()) {
                alert("Please enter your name first!");
                return false;
            }
            return true;
        };
    </script>
</body>
</html>
